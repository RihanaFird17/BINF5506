Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 4
Rules claiming more threads will be scaled down.
Job stats:
job                     count
--------------------  -------
align_reads                 1
all                         1
annotate_variants           1
build_snpEff_db             1
call_variants               1
create_dictionary           1
create_dirs                 1
create_snpEff_config        1
download_genbank            1
download_reference          1
download_sra                1
extract_sequence            1
fastqc                      1
filter_variants             1
index_bam                   1
index_reference             1
mark_duplicates             1
sort_bam                    1
upload_s3                   1
total                      19

Select jobs to execute...

[Thu Mar 27 04:24:08 2025]
rule create_dirs:
    output: results/snakemake/.dirs_created
    jobid: 1
    reason: Missing output files: results/snakemake/.dirs_created
    resources: tmpdir=/tmp

[Thu Mar 27 04:24:08 2025]
Finished job 1.
1 of 19 steps (5%) done
Select jobs to execute...

[Thu Mar 27 04:24:08 2025]
rule download_sra:
    input: results/snakemake/.dirs_created
    output: results/raw/SRR1972739/SRR1972739.sra
    jobid: 3
    reason: Missing output files: results/raw/SRR1972739/SRR1972739.sra; Input files updated by another job: results/snakemake/.dirs_created
    resources: tmpdir=/tmp


[Thu Mar 27 04:24:08 2025]
rule download_genbank:
    input: results/snakemake/.dirs_created
    output: results/snpEff/data/reference_db/genes.gbk
    jobid: 16
    reason: Missing output files: results/snpEff/data/reference_db/genes.gbk; Input files updated by another job: results/snakemake/.dirs_created
    resources: tmpdir=/tmp


[Thu Mar 27 04:24:08 2025]
rule download_reference:
    input: results/snakemake/.dirs_created
    output: results/raw/reference.fasta
    jobid: 2
    reason: Missing output files: results/raw/reference.fasta; Input files updated by another job: results/snakemake/.dirs_created
    resources: tmpdir=/tmp

[Thu Mar 27 04:24:09 2025]
Finished job 16.
2 of 19 steps (11%) done
[Thu Mar 27 04:24:09 2025]
Finished job 2.
3 of 19 steps (16%) done
Select jobs to execute...

[Thu Mar 27 04:24:09 2025]
rule create_dictionary:
    input: results/snakemake/.dirs_created, results/raw/reference.fasta
    output: results/raw/reference.dict
    jobid: 7
    reason: Missing output files: results/raw/reference.dict; Input files updated by another job: results/raw/reference.fasta, results/snakemake/.dirs_created
    resources: tmpdir=/tmp


[Thu Mar 27 04:24:09 2025]
rule index_reference:
    input: results/snakemake/.dirs_created, results/raw/reference.fasta
    output: results/raw/reference.fasta.fai, results/raw/reference.fasta.amb, results/raw/reference.fasta.ann, results/raw/reference.fasta.bwt, results/raw/reference.fasta.pac, results/raw/reference.fasta.sa
    jobid: 6
    reason: Missing output files: results/raw/reference.fasta.ann, results/raw/reference.fasta.bwt, results/raw/reference.fasta.fai, results/raw/reference.fasta.sa, results/raw/reference.fasta.pac, results/raw/reference.fasta.amb; Input files updated by another job: results/raw/reference.fasta, results/snakemake/.dirs_created
    resources: tmpdir=/tmp


[Thu Mar 27 04:24:09 2025]
rule create_snpEff_config:
    input: results/snakemake/.dirs_created, results/raw/reference.fasta, results/snpEff/data/reference_db/genes.gbk
    output: results/snpEff/snpEff.config
    jobid: 15
    reason: Missing output files: results/snpEff/snpEff.config; Input files updated by another job: results/raw/reference.fasta, results/snpEff/data/reference_db/genes.gbk, results/snakemake/.dirs_created
    resources: tmpdir=/tmp

[Thu Mar 27 04:24:09 2025]
Finished job 15.
4 of 19 steps (21%) done
Select jobs to execute...

[Thu Mar 27 04:24:09 2025]
rule build_snpEff_db:
    input: results/snakemake/.dirs_created, results/raw/reference.fasta, results/snpEff/data/reference_db/genes.gbk, results/snpEff/snpEff.config
    output: results/snpEff/snpEff_reference_db.txt
    jobid: 17
    reason: Missing output files: results/snpEff/snpEff_reference_db.txt; Input files updated by another job: results/snpEff/snpEff.config, results/raw/reference.fasta, results/snpEff/data/reference_db/genes.gbk, results/snakemake/.dirs_created
    resources: tmpdir=/tmp

[Thu Mar 27 04:24:09 2025]
Finished job 6.
5 of 19 steps (26%) done
[Thu Mar 27 04:24:11 2025]
Finished job 17.
6 of 19 steps (32%) done
[Thu Mar 27 04:24:12 2025]
Finished job 3.
7 of 19 steps (37%) done
Select jobs to execute...

[Thu Mar 27 04:24:12 2025]
rule extract_sequence:
    input: results/snakemake/.dirs_created, results/raw/SRR1972739/SRR1972739.sra
    output: results/raw/SRR1972739.fastq
    jobid: 4
    reason: Missing output files: results/raw/SRR1972739.fastq; Input files updated by another job: results/raw/SRR1972739/SRR1972739.sra, results/snakemake/.dirs_created
    resources: tmpdir=/tmp

[Thu Mar 27 04:24:12 2025]
Finished job 4.
8 of 19 steps (42%) done
Select jobs to execute...

[Thu Mar 27 04:24:12 2025]
rule align_reads:
    input: results/snakemake/.dirs_created, results/raw/reference.fasta, results/raw/SRR1972739.fastq
    output: results/aligned/aligned.sam
    jobid: 10
    reason: Missing output files: results/aligned/aligned.sam; Input files updated by another job: results/raw/SRR1972739.fastq, results/raw/reference.fasta, results/snakemake/.dirs_created
    resources: tmpdir=/tmp


[Thu Mar 27 04:24:12 2025]
rule fastqc:
    input: results/snakemake/.dirs_created, results/raw/SRR1972739.fastq
    output: results/qc/SRR1972739_fastqc.html
    jobid: 5
    reason: Missing output files: results/qc/SRR1972739_fastqc.html; Input files updated by another job: results/raw/SRR1972739.fastq, results/snakemake/.dirs_created
    resources: tmpdir=/tmp

[Thu Mar 27 04:24:14 2025]
Finished job 7.
9 of 19 steps (47%) done
[Thu Mar 27 04:24:15 2025]
Finished job 10.
10 of 19 steps (53%) done
Select jobs to execute...

[Thu Mar 27 04:24:15 2025]
rule sort_bam:
    input: results/snakemake/.dirs_created, results/aligned/aligned.sam
    output: results/aligned/aligned.sorted.bam
    jobid: 9
    reason: Missing output files: results/aligned/aligned.sorted.bam; Input files updated by another job: results/aligned/aligned.sam, results/snakemake/.dirs_created
    resources: tmpdir=/tmp

[Thu Mar 27 04:24:16 2025]
Finished job 9.
11 of 19 steps (58%) done
Select jobs to execute...

[Thu Mar 27 04:24:16 2025]
rule mark_duplicates:
    input: results/snakemake/.dirs_created, results/aligned/aligned.sorted.bam
    output: results/aligned/dedup.bam
    jobid: 8
    reason: Missing output files: results/aligned/dedup.bam; Input files updated by another job: results/aligned/aligned.sorted.bam, results/snakemake/.dirs_created
    resources: tmpdir=/tmp

[Thu Mar 27 04:24:16 2025]
Finished job 5.
12 of 19 steps (63%) done
[Thu Mar 27 04:24:19 2025]
Finished job 8.
13 of 19 steps (68%) done
Select jobs to execute...

[Thu Mar 27 04:24:19 2025]
rule index_bam:
    input: results/snakemake/.dirs_created, results/aligned/dedup.bam
    output: results/aligned/dedup.bam.bai
    jobid: 11
    reason: Missing output files: results/aligned/dedup.bam.bai; Input files updated by another job: results/aligned/dedup.bam, results/snakemake/.dirs_created
    resources: tmpdir=/tmp


[Thu Mar 27 04:24:19 2025]
rule call_variants:
    input: results/snakemake/.dirs_created, results/aligned/dedup.bam, results/raw/reference.fasta
    output: results/variants/raw_variants.vcf
    jobid: 13
    reason: Missing output files: results/variants/raw_variants.vcf; Input files updated by another job: results/aligned/dedup.bam, results/raw/reference.fasta, results/snakemake/.dirs_created
    resources: tmpdir=/tmp

[Thu Mar 27 04:24:20 2025]
Finished job 11.
14 of 19 steps (74%) done
[Thu Mar 27 04:24:49 2025]
Finished job 13.
15 of 19 steps (79%) done
Select jobs to execute...

[Thu Mar 27 04:24:49 2025]
rule filter_variants:
    input: results/snakemake/.dirs_created, results/variants/raw_variants.vcf, results/raw/reference.fasta
    output: results/variants/filtered_variants.vcf
    jobid: 12
    reason: Missing output files: results/variants/filtered_variants.vcf; Input files updated by another job: results/variants/raw_variants.vcf, results/raw/reference.fasta, results/snakemake/.dirs_created
    resources: tmpdir=/tmp

[Thu Mar 27 04:24:52 2025]
Finished job 12.
16 of 19 steps (84%) done
Select jobs to execute...

[Thu Mar 27 04:24:52 2025]
rule annotate_variants:
    input: results/snakemake/.dirs_created, results/variants/filtered_variants.vcf, results/snpEff/snpEff.config
    output: results/annotated/annotated_variants.vcf
    jobid: 14
    reason: Missing output files: results/annotated/annotated_variants.vcf; Input files updated by another job: results/variants/filtered_variants.vcf, results/snpEff/snpEff.config, results/snakemake/.dirs_created
    resources: tmpdir=/tmp

[Thu Mar 27 04:24:54 2025]
Finished job 14.
17 of 19 steps (89%) done
Select jobs to execute...

[Thu Mar 27 04:24:54 2025]
rule upload_s3:
    input: results/raw/reference.fasta, results/raw/SRR1972739/SRR1972739.sra, results/raw/SRR1972739.fastq, results/aligned/dedup.bam, results/variants/filtered_variants.vcf, results/annotated/annotated_variants.vcf
    output: results/snakemake/.s3_upload_done
    jobid: 18
    reason: Missing output files: results/snakemake/.s3_upload_done; Input files updated by another job: results/raw/SRR1972739.fastq, results/aligned/dedup.bam, results/raw/reference.fasta, results/raw/SRR1972739/SRR1972739.sra, results/variants/filtered_variants.vcf, results/annotated/annotated_variants.vcf
    resources: tmpdir=/tmp

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2025-03-27T042408.161803.snakemake.log
